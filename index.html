<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Title -->
    <title>HaiImg - Free Image Hosting.</title>
    
    <!-- SEO Meta Description & Keywords -->
    <meta name="description" content="Upload images instantly and generate direct links, HTML embed codes, and BBCode. Fast, free, and secure image hosting powered by HaiImg. Support for JPG, PNG, GIF.">
    <meta name="keywords" content="image upload, free image hosting, direct link generator, imgbb uploader, upload photos, share images, image to url, online storage">
    <meta name="author" content="HaldarAi">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow" />

    <!-- Open Graph / Social Media -->
    <meta property="og:title" content="HaiImg - Free Image Hosting">
    <meta property="og:description" content="Convert your images to direct links instantly. Simple, fast, and free image uploading.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="favicon.png">

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    
    <!-- Manifest -->
    <link rel="manifest" href="/site.webmanifest" />

    <!-- SITEMAP -->
    <link rel="sitemap" type="application/xml" title="Sitemap" href="https://haiimg.vercel.app/sitemap.xml">
    <link rel="sitemap" type="text/plain" title="Sitemap" href="https://haiimg.vercel.app/sitemap.txt">
    
    
    <!-- Canonical -->
    <link rel="canonical" href="https://haiimg.vercel.app/" />

    <!-- Google Fonts: Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@100..900&display=swap" rel="stylesheet">

    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Tailwind Configuration matching the provided CSS variables -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        outfit: ['Outfit', 'sans-serif'],
                    },
                    colors: {
                        // Mapping colors from your CSS file
                        brand: {
                            25: '#f2f7ff',
                            50: '#ecf3ff',
                            100: '#dde9ff',
                            200: '#c2d6ff',
                            300: '#9cb9ff',
                            400: '#7592ff',
                            500: '#465fff', // Primary Brand Color
                            600: '#3641f5',
                            700: '#2a31d8',
                            800: '#252dae',
                            900: '#262e89',
                            950: '#161950',
                        },
                        gray: {
                            25: '#fcfcfd',
                            50: '#f9fafb',
                            100: '#f2f4f7',
                            200: '#e4e7ec',
                            300: '#d0d5dd',
                            400: '#98a2b3',
                            500: '#667085',
                            600: '#475467',
                            700: '#344054',
                            800: '#1d2939',
                            900: '#101828',
                            950: '#0c111d',
                            dark: '#1a2231',
                        },
                        success: { 50: '#ecfdf3', 500: '#12b76a', 700: '#027a48' },
                        error: { 50: '#fef3f2', 500: '#f04438', 700: '#b42318' },
                    },
                    boxShadow: {
                        'theme-sm': '0px 1px 3px 0px rgba(16, 24, 40, 0.1), 0px 1px 2px 0px rgba(16, 24, 40, 0.06)',
                        'theme-md': '0px 4px 8px -2px rgba(16, 24, 40, 0.1), 0px 2px 4px -2px rgba(16, 24, 40, 0.06)',
                    }
                }
            }
        }
    </script>

    <!-- Custom CSS to mimic specific utilities from your file -->
    <style type="text/tailwindcss">
        @layer base {
            body {
                @apply font-outfit bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-white transition-colors duration-300;
            }
        }

        @layer components {
            .btn-primary {
                @apply flex items-center justify-center gap-2 px-5 py-2.5 bg-brand-500 text-white font-medium rounded-lg hover:bg-brand-600 transition-colors focus:ring-4 focus:ring-brand-500/20 disabled:opacity-50 disabled:cursor-not-allowed;
            }
            
            .input-box {
                @apply w-full rounded-lg border border-gray-300 bg-white px-4 py-3 text-gray-700 outline-none focus:border-brand-500 focus:ring-4 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:focus:border-brand-500;
            }

            .card {
                @apply bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl shadow-theme-sm p-6;
            }
        }

        /* Custom Scrollbar from your CSS */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            @apply bg-transparent;
        }
        ::-webkit-scrollbar-thumb {
            @apply bg-gray-300 rounded-full dark:bg-gray-700;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="sticky top-0 z-50 w-full border-b border-gray-200 bg-white/80 backdrop-blur-md dark:border-gray-800 dark:bg-gray-950/80">
        <div class="mx-auto flex h-16 max-w-5xl items-center justify-between px-4 sm:px-6 lg:px-8">
            <div class="flex items-center gap-2">
                <div class="flex h-8 w-8 items-center justify-center rounded-lg bg-brand-500 text-white">
                    <i data-lucide="image-up" class="h-5 w-5"></i>
                </div>
                <span class="text-xl font-semibold tracking-tight text-gray-900 dark:text-white">HaiImg</span>
            </div>
            
            <button id="theme-toggle" class="rounded-lg p-2 text-gray-500 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 transition-colors">
                <i data-lucide="moon" class="h-5 w-5 hidden dark:block"></i>
                <i data-lucide="sun" class="h-5 w-5 block dark:hidden"></i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow flex items-center justify-center py-12 px-4 sm:px-6">
        <div class="w-full max-w-xl space-y-8">
            
            <div class="text-center space-y-2">
                <h1 class="text-title-md font-semibold text-gray-900 dark:text-white text-3xl sm:text-4xl">Upload Image</h1>
                <p class="text-gray-500 dark:text-gray-400">Convert your images to direct links instantly.</p>
            </div>

            <!-- Upload Card -->
            <div class="card">
                <!-- Drop Zone -->
                <div id="drop-zone" class="relative flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-gray-300 rounded-xl bg-gray-50 hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800/50 dark:hover:bg-gray-800 transition-all cursor-pointer group">
                    <div class="flex flex-col items-center justify-center pt-5 pb-6">
                        <div class="mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-brand-50 text-brand-500 dark:bg-brand-500/10 dark:text-brand-400 group-hover:scale-110 transition-transform">
                            <i data-lucide="cloud-upload" class="h-6 w-6"></i>
                        </div>
                        <p class="mb-2 text-sm text-gray-700 dark:text-gray-300">
                            <span class="font-semibold text-brand-500 hover:underline">Click to upload</span> or drag and drop
                        </p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">PNG, JPG or GIF (MAX. 32MB)</p>
                    </div>
                    <input id="file-input" type="file" class="hidden" accept="image/*" />
                </div>

                <!-- Preview & Progress Area (Hidden by default) -->
                <div id="preview-container" class="hidden mt-6 space-y-4">
                    <div class="flex items-center gap-4 p-3 rounded-lg border border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800">
                        <img id="image-preview" src="#" alt="Preview" class="h-16 w-16 rounded-md object-cover border border-gray-200 dark:border-gray-700">
                        <div class="flex-1 min-w-0">
                            <p id="file-name" class="text-sm font-medium text-gray-900 truncate dark:text-white">image.png</p>
                            <p id="file-size" class="text-xs text-gray-500 dark:text-gray-400">0 KB</p>
                            
                            <!-- Progress Bar -->
                            <div id="progress-wrapper" class="hidden w-full bg-gray-200 rounded-full h-1.5 mt-2 dark:bg-gray-700">
                                <div id="progress-bar" class="bg-brand-500 h-1.5 rounded-full" style="width: 0%"></div>
                            </div>
                        </div>
                        <button id="remove-btn" class="p-1.5 text-gray-500 hover:text-error-500 transition-colors">
                            <i data-lucide="x" class="h-5 w-5"></i>
                        </button>
                    </div>
                </div>

                <!-- Action Button -->
                <div class="mt-6">
                    <button id="upload-btn" class="btn-primary w-full disabled:bg-gray-300 dark:disabled:bg-gray-700 disabled:text-gray-500" disabled>
                        Upload to HaiImg
                    </button>
                </div>
            </div>

            <!-- Result Card (Hidden by default) -->
            <div id="result-card" class="card hidden border-brand-200 dark:border-brand-900 bg-brand-25 dark:bg-brand-950/20">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-sm font-semibold text-brand-900 dark:text-brand-100 uppercase tracking-wider">Upload Complete</h3>
                    <span class="text-xs font-medium px-2.5 py-0.5 rounded-full bg-success-50 text-success-700 dark:bg-success-500/10 dark:text-success-500">Success</span>
                </div>
                
                <div class="space-y-3">
                    <div>
                        <label class="text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5 block">Direct Link</label>
                        <div class="flex gap-2">
                            <input id="result-url" type="text" readonly class="input-box !py-2 !text-sm bg-white dark:bg-gray-950" value="">
                            <button onclick="copyToClipboard('result-url')" class="p-2.5 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors">
                                <i data-lucide="copy" class="h-4 w-4"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div>
                        <label class="text-xs font-medium text-gray-700 dark:text-gray-300 mb-1.5 block">HTML Embed</label>
                        <div class="flex gap-2">
                            <input id="result-html" type="text" readonly class="input-box !py-2 !text-sm bg-white dark:bg-gray-950" value="">
                            <button onclick="copyToClipboard('result-html')" class="p-2.5 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 text-gray-700 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-300 dark:hover:bg-gray-700 transition-colors">
                                <i data-lucide="code" class="h-4 w-4"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="mt-4 pt-4 border-t border-brand-200 dark:border-brand-900/50 flex justify-center">
                   <button onclick="resetApp()" class="text-sm font-medium text-brand-600 hover:text-brand-700 dark:text-brand-400 dark:hover:text-brand-300 hover:underline">
                       Upload Another
                   </button>
                </div>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="py-6 border-t border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950">
        <div class="mx-auto max-w-5xl px-4 text-center text-sm text-gray-500 dark:text-gray-400">
            &copy; 2025 HaiImg. Powered by HaldarAi.
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // --- Dark Mode Logic ---
        const themeToggleBtn = document.getElementById('theme-toggle');
        const htmlElement = document.documentElement;

        // Check local storage or system preference
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            htmlElement.classList.add('dark');
        } else {
            htmlElement.classList.remove('dark');
        }

        themeToggleBtn.addEventListener('click', () => {
            htmlElement.classList.toggle('dark');
            if (htmlElement.classList.contains('dark')) {
                localStorage.theme = 'dark';
            } else {
                localStorage.theme = 'light';
            }
        });

        // --- App Logic ---
        const API_KEY = "2b8df72c813971f8e1b285d34dd93c12"; // Your Provided Key
        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const previewContainer = document.getElementById('preview-container');
        const imagePreview = document.getElementById('image-preview');
        const fileNameDisplay = document.getElementById('file-name');
        const fileSizeDisplay = document.getElementById('file-size');
        const removeBtn = document.getElementById('remove-btn');
        const uploadBtn = document.getElementById('upload-btn');
        const progressBar = document.getElementById('progress-bar');
        const progressWrapper = document.getElementById('progress-wrapper');
        const resultCard = document.getElementById('result-card');
        const resultUrlInput = document.getElementById('result-url');
        const resultHtmlInput = document.getElementById('result-html');

        let currentFile = null;

        // Initialize Icons
        lucide.createIcons();

        // Drag & Drop Handlers
        dropZone.addEventListener('click', () => fileInput.click());

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('border-brand-500', 'bg-brand-50', 'dark:bg-brand-500/10');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('border-brand-500', 'bg-brand-50', 'dark:bg-brand-500/10');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('border-brand-500', 'bg-brand-50', 'dark:bg-brand-500/10');
            if (e.dataTransfer.files.length) {
                handleFile(e.dataTransfer.files[0]);
            }
        });

        fileInput.addEventListener('change', (e) => {
            if (e.target.files.length) {
                handleFile(e.target.files[0]);
            }
        });

        function handleFile(file) {
            if (!file.type.match('image.*')) {
                alert('Please upload a valid image file.');
                return;
            }

            currentFile = file;
            
            // Show preview
            const reader = new FileReader();
            reader.onload = (e) => {
                imagePreview.src = e.target.result;
                previewContainer.classList.remove('hidden');
                dropZone.classList.add('hidden'); // Hide dropzone to save space
                uploadBtn.disabled = false;
                resultCard.classList.add('hidden');
            }
            reader.readAsDataURL(file);

            // Update Metadata
            fileNameDisplay.textContent = file.name;
            fileSizeDisplay.textContent = formatBytes(file.size);
        }

        removeBtn.addEventListener('click', resetApp);

        function resetApp() {
            currentFile = null;
            fileInput.value = '';
            previewContainer.classList.add('hidden');
            dropZone.classList.remove('hidden');
            uploadBtn.disabled = true;
            resultCard.classList.add('hidden');
            uploadBtn.innerHTML = 'Upload to ImgBB';
            progressWrapper.classList.add('hidden');
            progressBar.style.width = '0%';
        }

        function formatBytes(bytes, decimals = 2) {
            if (!+bytes) return '0 Bytes';
            const k = 1024;
            const dm = decimals < 0 ? 0 : decimals;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;
        }

        // Upload Logic
        uploadBtn.addEventListener('click', async () => {
            if (!currentFile) return;

            // UI State: Uploading
            uploadBtn.disabled = true;
            uploadBtn.innerHTML = `<i data-lucide="loader-2" class="h-4 w-4 animate-spin"></i> Uploading...`;
            lucide.createIcons(); // Refresh icons for the spinner
            progressWrapper.classList.remove('hidden');
            progressBar.style.width = '30%';

            const formData = new FormData();
            formData.append('image', currentFile);
            formData.append('key', API_KEY);

            try {
                // Simulating progress for UX (ImgBB doesn't natively support granular XHR progress with fetch easily)
                setTimeout(() => progressBar.style.width = '60%', 500);

                const response = await fetch('https://api.imgbb.com/1/upload', {
                    method: 'POST',
                    body: formData
                });

                progressBar.style.width = '100%';

                const data = await response.json();

                if (data.success) {
                    showResult(data.data);
                } else {
                    throw new Error(data.error.message || 'Upload failed');
                }

            } catch (error) {
                alert('Error: ' + error.message);
                uploadBtn.disabled = false;
                uploadBtn.textContent = 'Upload to ImgBB';
                progressWrapper.classList.add('hidden');
            }
        });

        function showResult(data) {
            // Hide upload button and progress
            uploadBtn.disabled = true;
            uploadBtn.textContent = 'Upload Complete';
            
            // Populate Results
            resultUrlInput.value = data.url;
            resultHtmlInput.value = `<img src="${data.url}" alt="image" border="0">`;
            
            // Show Result Card
            resultCard.classList.remove('hidden');
        }

        window.copyToClipboard = function(elementId) {
            const input = document.getElementById(elementId);
            input.select();
            input.setSelectionRange(0, 99999); // For mobile devices
            navigator.clipboard.writeText(input.value).then(() => {
                // Visual feedback could be added here
                const originalValue = input.value;
                // Toast notification logic could go here
            });
        }
    </script>
</body>
</html>